<style>
  span {
    font-family: 'Alata', sans-serif;
    letter-spacing: 0px;
    font-weight: 400;
  }

  .redirect-btn:hover {
    text-decoration: underline;
  }
</style>

<div style="display: flex; flex-direction: column; width: 100%; padding: 16px 21px;">
  <div style="display: flex; width: 100%; height: fit-content; background-color: rgba(22,22,22,0.03); flex-direction: column; align-items: center; gap: 51px; padding: 24px 30px;">
    <div style="width: 100%; height: fit-content; display: flex; align-items: center; justify-content: center; gap: 18px;">
      {% if customer %}
      <img
        src="https://cdn.shopify.com/s/files/1/0723/0839/2168/files/person-img_2.png?v=1745996393"
        alt=""
        width="50px"
        height="50px"
        style="border: 1px solid rgba(22,22,22);"
      >
      <div style="display:flex; flex-direction: column;">
        <span style="font-size: 14px;">{{ customer.first_name }} {{ customer.last_name }}</span>
        <span style="font-size: 10px; color: rgba(22,22,22,0.5);">{{ customer.phone }}</span>
        <span style="font-size: 10px; color: rgba(22,22,22,0.5);">{{ customer.email }}</span>
      </div>
      {% endif %}
    </div>
    <div style="width: 100%; height: fit-content; display: grid; grid-template-columns: repeat(2, minmax(0, 1fr)); justify-items: center; row-gap: 42px;">
      <button id='order' class="page-btn" style="display: flex; flex-direction: column; gap: 4px; width: fit-content; height: fit-content; align-items: center;">
        <img
          src="https://cdn.shopify.com/s/files/1/0723/0839/2168/files/person-img_2.png?v=1745996393"
          alt=""
          width="25px"
          height="25px"
        >
        <span style="font-size: 12px;">My Orders</span>
      </button>
      <button id='wishlist' class="page-btn" style="display: flex; flex-direction: column; gap: 4px; width: fit-content; height: fit-content; align-items: center;">
        <img
          src="https://cdn.shopify.com/s/files/1/0723/0839/2168/files/person-img_2.png?v=1745996393"
          alt=""
          width="25px"
          height="25px"
        >
        <span style="font-size: 12px;">My Wishlist</span>
      </button>
      <button id='account' class="page-btn" style="display: flex; flex-direction: column; gap: 4px; width: fit-content; height: fit-content; align-items: center;">
        <img
          src="https://cdn.shopify.com/s/files/1/0723/0839/2168/files/person-img_2.png?v=1745996393"
          alt=""
          width="25px"
          height="25px"
        >
        <span style="font-size: 12px;">Account</span>
      </button>
      <button onclick="(function() {document.getElementById('signout-modal').style.display = 'flex'})()" style="display: flex; flex-direction: column; gap: 4px; width: fit-content; height: fit-content; align-items: center;">
        <svg
          width="25"
          height="25"
          viewBox="0 0 20 20"
          fill="none"
          xmlns="http://www.w3.org/2000/svg">
        <path d="M9.85547 12.0833C15.203 12.0833 19.543 14.1112 19.543 16.6041V19.8333H0.167969V16.6041C0.167969 14.1112 4.50797 12.0833 9.85547 12.0833ZM18.2513 16.6041C18.2513 14.8216 14.4926 13.375 9.85547 13.375C5.21839 13.375 1.45964 14.8216 1.45964 16.6041V18.5416H18.2513V16.6041ZM9.85547 0.458313C11.0545 0.458313 12.2044 0.934614 13.0522 1.78243C13.9 2.63026 14.3763 3.78015 14.3763 4.97915C14.3763 6.17815 13.9 7.32804 13.0522 8.17586C12.2044 9.02368 11.0545 9.49998 9.85547 9.49998C8.65647 9.49998 7.50658 9.02368 6.65876 8.17586C5.81094 7.32804 5.33464 6.17815 5.33464 4.97915C5.33464 3.78015 5.81094 2.63026 6.65876 1.78243C7.50658 0.934614 8.65647 0.458313 9.85547 0.458313ZM9.85547 1.74998C8.99904 1.74998 8.17769 2.09019 7.5721 2.69578C6.96652 3.30137 6.6263 4.12272 6.6263 4.97915C6.6263 5.83557 6.96652 6.65693 7.5721 7.26251C8.17769 7.8681 8.99904 8.20831 9.85547 8.20831C10.7119 8.20831 11.5332 7.8681 12.1388 7.26251C12.7444 6.65693 13.0846 5.83557 13.0846 4.97915C13.0846 4.12272 12.7444 3.30137 12.1388 2.69578C11.5332 2.09019 10.7119 1.74998 9.85547 1.74998Z" fill="#222222"/>
        </svg>

        <span style="font-size: 12px;">Sign Out</span>
      </button>
    </div>
  </div>

  <div id="wishlist-snippet" style="display: none; width: 100%; justify-content: center;">
    {% render 'profile-my-wishlist-mobile' %}
  </div>

  <div id="account-snippet" style="display: none; width: 100%; justify-content: center;">
    {% render 'profile-my-account-mobile' %}
  </div>

  <div id="order-snippet" style="display: flex; width: 100%; justify-content: center;">
    {% render 'profile-my-orders-mobile' %}
  </div>
</div>

<div onclick="(function() {document.getElementById('signout-modal').style.display = 'none'})()" id="signout-modal" style="display: none; background-color: rgba(22,22,22,0.4); position: absolute; z-index: 500; width: 100%; height: 100%; padding: 68px 39px;">
  <div onclick="event.stopPropagation()" style="gap: 1rem; text-align: center; padding: 38px 46px; display: flex; flex-direction: column; align-items: center; width: 100%; height: fit-content; background-color: white;">
    <img
      src="https://cdn.shopify.com/s/files/1/0723/0839/2168/files/person-img_2.png?v=1745996393"
      alt=""
      width="40px"
      height="40px"
    >
    <span style="font-size: 18px;">SIGN OUT OF YOUR ACCOUNT?</span>
    <p style="font-size: 12px;">You'll need to sign in again to access your account and order history</p>
    <div style="display: flex; width: 100%; gap: 2%;">
      <button onclick="(function() {document.getElementById('signout-modal').style.display = 'none'})()" style="display: flex; justify-content: center; align-items: center; width: 100%; height: 38px; box-shadow: inset 0 0 0 2px #222222; color: #222222;">CANCEL</button>
      <button onclick="window.location.assign('{{ routes.account_logout_url }}')" style="display: flex; justify-content: center; align-items: center; width: 100%; height: 38px; background-color: #222222; color: white;">SIGN OUT</button>
    </div>
  </div>
    
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    document.querySelectorAll('.page-btn').forEach(button => {
      button.addEventListener('click', function(e) {
        e.preventDefault();
        e.stopPropagation();
        const snippets = ['wishlist-snippet', 'account-snippet', 'order-snippet'];
        const selectedSnippet = `${button.getAttribute('id')}-snippet`;
        for (let i = 0; i < snippets.length; i++) {
          document.getElementById(snippets[i]).style.display = (selectedSnippet == snippets[i]) ? 'flex' : 'none';
          window.scrollTo({ top: 0, behavior: "smooth" });
        }
      })
    })
  });
</script>