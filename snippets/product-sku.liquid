<p id="variant-sku">SKU: {{ product.variants.first.sku }}</p>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const skuDisplay = document.getElementById('variant-sku');
    const productData = {{ product | json }};

    function updateSkuById(variantId) {
      const matchedVariant = productData.variants.find(v => String(v.id) === String(variantId));
      if (matchedVariant && skuDisplay) {
        const sku = matchedVariant.sku || 'N/A';
        console.log('Selected Variant ID:', variantId);
        console.log('SKU:', sku);
        skuDisplay.textContent = sku; // or .innerHTML
      }
    }

    // Example: monitor variant ID every second
    setInterval(() => {
      const variantIdInput = document.querySelector('[name="id"]');
      if (variantIdInput) {
        updateSkuById(variantIdInput.value);
      }
    }, 1000);
  });
</script>
