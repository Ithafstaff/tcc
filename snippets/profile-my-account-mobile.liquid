<style>
  .alata {
    font-family: 'Alata', sans-serif;
    font-weight: normal;
  }

  #first-name-input:focus {
    outline: none;
  }

  #account-page-selection-modal div button {
    width: 100%;
    padding: 6px 0 6px 0;
    font-family: 'Alata', sans-serif;
  }

  #account-page-selection-modal div button:hover {
    text-decoration: underline;
  }

  .edit-address-btn-mobile {
    color: rgba(22,22,22,0.5);
    text-decoration: underline;
    font-size: 10px;
    text-align: right;
  }

  .edit-address-btn-mobile:hover {
    text-decoration: none;
  }

  .delete-address-btn-mobile {
    color: rgba(22,22,22,0.5);
    text-decoration: underline;
    font-size: 10px;
    text-align: right;
  }

  .delete-address-btn-mobile:hover {
    text-decoration: none;
  }

  input:focus {
    outline: none;
  }
</style>

<div style="display: flex; flex-direction: column; width: 100%; padding-top: 34px; padding-bottom: 34px; gap: 15px;">
  <div style="display: flex; width: 100%; justify-content: space-between; align-items: center;">
    <span class="custom-heading" style="font-size: 20px;">Account</span>
    <button
      onclick="(function() {document.getElementById('account-page-selection-modal').style.display = 'flex';})()"
      style="display: flex; width: fit-content; height: fit-content; align-items: center; gap: 6px;"
    >
      <span id="account-page-selection-label" style="font-size: 12px; color: #222222;">PROFILE</span>
      <img
        src="https://cdn.shopify.com/s/files/1/0723/0839/2168/files/person-img_2.png?v=1745996393"
        alt=""
        width="10px"
        height="10px"
        style="width: 10px; height: 10px;"
      >
    </button>
  </div>
  <div id="account-details-page" style="gap: 2rem; filter: drop-shadow(0 2px 3px rgba(22,22,22,0.1)); background-color: white; display: flex; flex-direction: column; align-items: center; padding: 21px 16px;">
    <span class="alata" style="color: rgba(22,22,22,0.5); font-size: 10px;">MANAGE AND PROTECT YOUR ACCOUNT</span>
    <div style="width: 100%; display: flex; flex-direction: column; gap: 10px;">
      <div style="display: grid; grid-template-columns: repeat(2, minmax(0, 1fr)); width: 100%; column-gap: 10px;">
        <div class="input-container" style="display: flex; align-items: center; width: 100%; gap: 15px; padding: 12px 19px;">
          <svg width="17" height="17" viewBox="0 0 18 16" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M8.9987 7.2825C8.03659 7.2825 7.21253 6.9395 6.52653 6.2535C5.84053 5.5675 5.49792 4.74383 5.4987 3.7825C5.49948 2.82116 5.84209 1.99672 6.52653 1.30916C7.21098 0.621607 8.03503 0.279774 8.9987 0.283663C9.96237 0.287552 10.7864 0.629774 11.4709 1.31033C12.1553 1.99089 12.4979 2.81533 12.4987 3.78366C12.4995 4.752 12.1569 5.57566 11.4709 6.25466C10.7849 6.93366 9.96081 7.2755 8.9987 7.2825ZM0.832031 15.7187V13.7983C0.832031 13.3169 0.972031 12.8666 1.25203 12.4473C1.53281 12.0273 1.91003 11.7014 2.3837 11.4697C3.48503 10.9416 4.58714 10.5457 5.69003 10.282C6.79214 10.0176 7.89503 9.88533 8.9987 9.88533C10.1024 9.88533 11.2056 10.0176 12.3085 10.282C13.4114 10.5464 14.5128 10.9423 15.6125 11.4697C16.087 11.7014 16.4642 12.0273 16.7442 12.4473C17.025 12.8666 17.1654 13.3169 17.1654 13.7983V15.7187H0.832031ZM1.9987 14.552H15.9987V13.7983C15.9987 13.5401 15.9151 13.2971 15.7479 13.0692C15.5814 12.8421 15.3508 12.6499 15.056 12.4928C14.0963 12.0277 13.1061 11.6715 12.0857 11.4242C11.0653 11.1768 10.0363 11.0528 8.9987 11.052C7.96114 11.0512 6.93214 11.1749 5.9117 11.423C4.89125 11.6711 3.90114 12.0273 2.94136 12.4917C2.64581 12.6488 2.4152 12.8409 2.24953 13.068C2.08231 13.2959 1.9987 13.5393 1.9987 13.7983V14.552ZM8.9987 6.117C9.64037 6.117 10.1899 5.88833 10.6472 5.431C11.1045 4.97366 11.3328 4.42377 11.332 3.78133C11.3313 3.13889 11.103 2.58977 10.6472 2.134C10.1914 1.67822 9.64192 1.44955 8.9987 1.448C8.35548 1.44644 7.80637 1.67511 7.35137 2.134C6.89637 2.59289 6.6677 3.142 6.66536 3.78133C6.66303 4.42066 6.8917 4.97016 7.35137 5.42983C7.81103 5.8895 8.36014 6.11777 8.9987 6.11466" fill="#222222"/>
          </svg>
          <div style="display: flex; flex-direction: column; gap: 12px;">
            <span style="font-size: 10px; color: rgba(22,22,22,0.5);">First Name</span>
            <span class="shown-input" style="">{{ customer.first_name | default: 'N/A'}}</span>
            <input class="hidden-input" id="first_name" style="display:none; width: 100%;" placeholder="Juan" value={{ customer.first_name }}>
          </div>
        </div>
        <div class="input-container" style="display: flex; align-items: center; width: 100%; gap: 15px; padding: 12px 19px;">
          <svg width="17" height="17" viewBox="0 0 18 16" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M8.9987 7.2825C8.03659 7.2825 7.21253 6.9395 6.52653 6.2535C5.84053 5.5675 5.49792 4.74383 5.4987 3.7825C5.49948 2.82116 5.84209 1.99672 6.52653 1.30916C7.21098 0.621607 8.03503 0.279774 8.9987 0.283663C9.96237 0.287552 10.7864 0.629774 11.4709 1.31033C12.1553 1.99089 12.4979 2.81533 12.4987 3.78366C12.4995 4.752 12.1569 5.57566 11.4709 6.25466C10.7849 6.93366 9.96081 7.2755 8.9987 7.2825ZM0.832031 15.7187V13.7983C0.832031 13.3169 0.972031 12.8666 1.25203 12.4473C1.53281 12.0273 1.91003 11.7014 2.3837 11.4697C3.48503 10.9416 4.58714 10.5457 5.69003 10.282C6.79214 10.0176 7.89503 9.88533 8.9987 9.88533C10.1024 9.88533 11.2056 10.0176 12.3085 10.282C13.4114 10.5464 14.5128 10.9423 15.6125 11.4697C16.087 11.7014 16.4642 12.0273 16.7442 12.4473C17.025 12.8666 17.1654 13.3169 17.1654 13.7983V15.7187H0.832031ZM1.9987 14.552H15.9987V13.7983C15.9987 13.5401 15.9151 13.2971 15.7479 13.0692C15.5814 12.8421 15.3508 12.6499 15.056 12.4928C14.0963 12.0277 13.1061 11.6715 12.0857 11.4242C11.0653 11.1768 10.0363 11.0528 8.9987 11.052C7.96114 11.0512 6.93214 11.1749 5.9117 11.423C4.89125 11.6711 3.90114 12.0273 2.94136 12.4917C2.64581 12.6488 2.4152 12.8409 2.24953 13.068C2.08231 13.2959 1.9987 13.5393 1.9987 13.7983V14.552ZM8.9987 6.117C9.64037 6.117 10.1899 5.88833 10.6472 5.431C11.1045 4.97366 11.3328 4.42377 11.332 3.78133C11.3313 3.13889 11.103 2.58977 10.6472 2.134C10.1914 1.67822 9.64192 1.44955 8.9987 1.448C8.35548 1.44644 7.80637 1.67511 7.35137 2.134C6.89637 2.59289 6.6677 3.142 6.66536 3.78133C6.66303 4.42066 6.8917 4.97016 7.35137 5.42983C7.81103 5.8895 8.36014 6.11777 8.9987 6.11466" fill="#222222"/>
          </svg>
          <div style="display: flex; flex-direction: column; gap: 12px;">
            <span style="font-size: 10px; color: rgba(22,22,22,0.5);">Last Name</span>
            <span class="shown-input" style="">{{ customer.last_name | default: 'N/A' }}</span>
            <input class="hidden-input" id="last_name" style="display:none; width: 100%;" placeholder="Dela Cruz" value={{ customer.last_name }}>
          </div>
        </div>
      </div>
      <div class="input-container" style="display: flex; align-items: center; width: 100%; gap: 15px; padding: 12px 19px;">
        <svg width="17" height="17" viewBox="0 0 19 19" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M16.8737 18.1665C17.2384 18.1665 17.5881 18.0216 17.846 17.7638C18.1038 17.5059 18.2487 17.1562 18.2487 16.7915V13.5831C18.2487 13.2185 18.1038 12.8687 17.846 12.6109C17.5881 12.353 17.2384 12.2081 16.8737 12.2081C15.8012 12.2081 14.747 12.0431 13.7387 11.704C13.4976 11.6279 13.2403 11.6193 12.9947 11.6791C12.7491 11.7389 12.5245 11.8648 12.3454 12.0431L11.0254 13.3631C8.74492 12.1187 6.87065 10.2444 5.6262 7.96398L6.93703 6.65315C7.31286 6.29565 7.45036 5.76398 7.28536 5.25065C6.95536 4.25148 6.79036 3.19732 6.79036 2.12482C6.79036 1.76014 6.6455 1.41041 6.38764 1.15255C6.12977 0.894683 5.78004 0.749817 5.41536 0.749817H2.20703C1.84236 0.749817 1.49262 0.894683 1.23476 1.15255C0.976897 1.41041 0.832031 1.76014 0.832031 2.12482C0.832031 10.9706 8.02786 18.1665 16.8737 18.1665ZM2.20703 1.66648H5.41536C5.53692 1.66648 5.6535 1.71477 5.73945 1.80073C5.82541 1.88668 5.8737 2.00326 5.8737 2.12482C5.8737 3.29815 6.05703 4.44398 6.41453 5.53482C6.46036 5.66315 6.4512 5.84648 6.30453 5.99315L4.4987 7.78982C6.0112 10.7507 8.22953 12.969 11.1995 14.4998L12.987 12.694C13.1154 12.5656 13.2895 12.529 13.4545 12.5748C14.5545 12.9415 15.7004 13.1248 16.8737 13.1248C16.9953 13.1248 17.1118 13.1731 17.1978 13.2591C17.2837 13.345 17.332 13.4616 17.332 13.5831V16.7915C17.332 16.913 17.2837 17.0296 17.1978 17.1156C17.1118 17.2015 16.9953 17.2498 16.8737 17.2498C8.53203 17.2498 1.7487 10.4665 1.7487 2.12482C1.7487 2.00326 1.79699 1.88668 1.88294 1.80073C1.96889 1.71477 2.08547 1.66648 2.20703 1.66648Z" fill="#222222"/>
        </svg>

        <div style="display: flex; flex-direction: column; gap: 12px;">
          <span style="font-size: 10px; color: rgba(22,22,22,0.5);">Phone Number</span>
          <span class="shown-input" style="">{{ customer.phone | default: 'N/A'}}</span>
          <input class="hidden-input" id="phone" style="display:none; width: 100%;" placeholder="########" value={{ customer.phone }}>
        </div>
      </div>
      <div class="input-container" style="display: flex; align-items: center; width: 100%; gap: 15px; padding: 12px 19px;">
        <svg width="17" height="17" viewBox="0 0 22 18" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M1.15625 1.46875V0.921875C1.01121 0.921875 0.87211 0.979492 0.769551 1.08205C0.666992 1.18461 0.609375 1.32371 0.609375 1.46875H1.15625ZM20.8438 1.46875H21.3906C21.3906 1.32371 21.333 1.18461 21.2304 1.08205C21.1279 0.979492 20.9888 0.921875 20.8438 0.921875V1.46875ZM1.15625 2.01562H20.8438V0.921875H1.15625V2.01562ZM20.2969 1.46875V14.5938H21.3906V1.46875H20.2969ZM18.6562 16.2344H3.34375V17.3281H18.6562V16.2344ZM1.70312 14.5938V1.46875H0.609375V14.5938H1.70312ZM3.34375 16.2344C2.90863 16.2344 2.49133 16.0615 2.18365 15.7538C1.87598 15.4462 1.70312 15.0289 1.70312 14.5938H0.609375C0.609375 15.319 0.89746 16.0145 1.41025 16.5272C1.92305 17.04 2.61855 17.3281 3.34375 17.3281V16.2344ZM20.2969 14.5938C20.2969 15.0289 20.124 15.4462 19.8163 15.7538C19.5087 16.0615 19.0914 16.2344 18.6562 16.2344V17.3281C19.3815 17.3281 20.077 17.04 20.5897 16.5272C21.1025 16.0145 21.3906 15.319 21.3906 14.5938H20.2969Z" fill="#222222"/>
          <path d="M1.15625 1.46875L11 11.3125L20.8438 1.46875" stroke="#222222" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        <div style="display: flex; flex-direction: column; gap: 12px;">
          <span style="font-size: 10px; color: rgba(22,22,22,0.5);">Email</span>
          <span class="shown-input" style="">{{ customer.email | default: 'N/A' }}</span>
          <input class="hidden-input" type="email" id="email" style="display:none; width: 100%;" placeholder="email@mail.site" value={{ customer.email }}>
        </div>
      </div>
    </div>
    <button
      id="edit-account"
      onclick="(function() {
        document.getElementById('edit-account').style.display = 'none';
        document.getElementById('edit-account-btn-container').style.display = 'flex';
        
        document.querySelectorAll('.hidden-input').forEach(item => {
          item.style.display = 'flex';
        })
    
        document.querySelectorAll('.input-container').forEach(item => {
          item.style.boxShadow = 'inset 0 0 0 2px black';
        })
    
        document.querySelectorAll('.shown-input').forEach(item => {
          item.style.display = 'none';
        })
      })()"
      style="display: flex; width: 100%; background-color: rgba(22,22,22); color: white; height: 60px; justify-content: center; align-items: center;"
    >
      UPDATE ACCOUNT INFORMATION
    </button>
    <div id="edit-account-btn-container" style="display: none; justify-content: space-between; width: 100%; height: 60px; gap: 10px;">
      <button
        onclick="(function() {
          const customer = {
            'first_name' : '{{ customer.first_name }}',
            'last_name' : '{{ customer.last_name }}',
            'phone' : '{{ customer.phone }}',
            'email' : '{{ customer.email }}'
          };
        
          document.getElementById('edit-account').style.display = 'flex';
          document.getElementById('edit-account-btn-container').style.display = 'none';
          
          document.querySelectorAll('.hidden-input').forEach(item => {
            item.style.display = 'none';
            item.value = customer[item.getAttribute('id')];
          })
      
          document.querySelectorAll('.input-container').forEach(item => {
            item.style.boxShadow = '';
          })
      
          document.querySelectorAll('.shown-input').forEach(item => {
            item.style.display = 'flex';
          })
        })()"
        style="display: flex; width: 100%; background-color: white; color: rgba(22,22,22); height: 60px; justify-content: center; align-items: center; box-shadow: inset 0 0 0 2px rgba(22,22,22);"
      >
        CANCEL
      </button>
      <button style="display: flex; width: 100%; background-color: rgba(22,22,22); color: white; height: 60px; justify-content: center; align-items: center;">SAVE</button>
    </div>
  </div>

  <div id="account-deletion-page" style="gap: 2rem; filter: drop-shadow(0 2px 3px rgba(22,22,22,0.1)); background-color: white; display: none; flex-direction: column; align-items: center; padding: 40px 44px;">
    <span class="alata" style="color: rgba(22,22,22,0.5); font-size: 10px; text-transform: uppercase; text-align: center;">permanently delete your account and all associated data. this action cannot be undone.</span>
    <span style="font-size: 12px; font-weight: 400;">By clicking on <strong>“Yes, I Understand”</strong>, you agree to the following:
      <div style="width: 100%; padding-left: 12px;">
        <li>
          Account deletion is irreversible. Upon successful deletion of your account, you will not be able to log in to the deleted account and view account history.
        </li>
        <li>
          Your account cannot be deleted if you have any pending purchases, sales and/or outstanding matters including legal matters.
        </li>
        <li>
          After successful deletion of your account, The closeout connection may retain certain data in accordance with the closeout connection’s Privacy Policy and applicable law.
        </li>
        <li>
          The deletion of your account does not discharge you from any outstanding liabilities and/or obligations.
        </li>
      </div>
    </span>
    <button style="display: flex; width: 197px; height: 43px; background-color: #222222; color: white; align-items: center; justify-content: center;">YES, I UNDERSTAND</button>
  </div>

  <div id="account-addresses-page" style="display: none; width: 100%;">
    <div id="account-details-page" style="width: 100%; gap: 10px; filter: drop-shadow(0 2px 3px rgba(22,22,22,0.1)); background-color: white; display: flex; flex-direction: column; padding: 21px 16px;">
      <button onclick="(function() {document.getElementById('add-address-modal-mobile').style.display = 'flex';})()" class="alata" style="background-color: #222222; color: white; width: fit-content; height: 45px; display: flex; padding: 0px 20px; align-items: center;">
        ADD NEW ADDRESS +
      </button>
      <ul style="width: 100%;">
        {% for address in customer.addresses %}
          <li style="width: 100%; display: flex; gap: 5%; align-items: center; {% unless forloop.last %}border-bottom: 1px solid rgba(22,22,22,0.2); {% endunless %}padding: 17px 0px;">
            <svg style="height: 24px; fill: #222222;" viewBox="0 0 24 24">
              <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5S10.62 6.5 12 6.5s2.5 1.12 2.5 2.5S13.38 11.5 12 11.5z"/>
            </svg>
            <div style="width: 100%; text-wrap: wrap; font-size: 12px;">
              <span>
                {{ address.address1 }},
                {% if address.address2 %}{{ address.address2 }}, {% endif %}
                {{ address.city }}, {{ address.province }}, {{ address.zip }}, {{ address.country }}
                {% if address == customer.default_address %}
                  <span style="height: 14px; font-size: 6px; text-transform: uppercase; border: 1px solid #888; padding: 2px 6px; margin-left: 10px; color: rgba(22,22,22,0.5);">Default</span>
                {% endif %}
              </span>
              
            </div>
            <div style="width: fit-content; display: flex; flex-direction: column; justify-content: space-between; padding-top: 4px; padding-bottom: 4px;">
              <button class="edit-address-btn-mobile" onclick="document.getElementById('edit-address-modal-mobile-{{ address.id }}').style.display='flex'">EDIT</button>
              <form class="delete-address-form-mobile" method="post" action="/account/addresses/{{ address.id }}" style="margin: 0;">
                <input type="hidden" name="_method" value="delete">
                <button class="delete-address-btn-mobile" type="submit">DELETE</button>
              </form>
            </div>
          </li>
        {% endfor %}
      </ul>
    </div>
  </div>
</div>

<!-- MODALS -->
<div 
  id="add-address-modal-mobile"
  style="padding: 60px 20px; background-color: rgba(22,22,22,0.4); width: 100%; height: calc(100% + 115px); position: absolute; inset-inline-start: 0; inset-block-start: -115px; display: none; z-index: 11;"
  onclick="(function() {document.getElementById('add-address-modal-mobile').style.display = 'none'; document.getElementById('addAddressFormMobile').reset();})()"
> <!-- Add Address Modal -->
  <div onclick="event.stopPropagation()" style="gap: 2rem; display: flex; flex-direction: column; align-items: center; justify-content: center; width: 100%; height: 100%; background-color: white; padding: 37px 72px;">
    <span class="alata" style="font-size: 22px;">DELIVERY ADDRESS</span>
    {% if customer %}
      {% form 'customer_address', customer.new_address, id: "addAddressFormMobile", style: "display: flex; flex-direction: column; justify-content: center; gap: 18px;" %} 
        <input type="hidden" name="address[first_name]" value="{{ customer.first_name }}">
        <input type="hidden" name="address[last_name]" value="{{ customer.last_name }}">
        <input type="text" name="address[address1]" placeholder="Street Address" style="width: 100%; padding: 14px 16px; font-weight: bold; border: 1px solid #000; font-size: 14px;">
        <input type="text" name="address[city]" placeholder="City" style="width: 100%; padding: 14px 16px; font-weight: bold; border: 1px solid #000; font-size: 14px;">
        <input type="text" name="address[province]" placeholder="State" style="width: 100%; padding: 14px 16px; font-weight: bold; border: 1px solid #000; font-size: 14px;">  
        <input type="text" name="address[zip]" placeholder="ZIP Code" style="width: 100%; padding: 14px 16px; font-weight: bold; border: 1px solid #000; font-size: 14px;">
        <input type="text" name="address[country]" placeholder="Country" value="United States" style="width: 100%; background-color: #EBEBE4; padding: 14px 16px; font-weight: bold; border: 1px solid #000; font-size: 14px;">  
        
        <label style="display: flex; align-items: center; margin-bottom: 20px; font-size: 13px;">
          <input type="checkbox" name="address[default]" value="1" style="margin-right: 10px; width: 16px; height: 16px; accent-color: #000000;"> 
          Set As Default Address
        </label>
        
        <div style="display: flex; flex-direction: column; gap: 10px;">
          <button type="submit" style="display: flex; align-items: center; justify-content: center; width: 100%; padding: 6px 0px; background: #000; color: #fff; border: none; font-size: 13px; cursor: pointer;">SAVE</button>
          <button
            type="button"
            onclick="(function() {
              event.preventDefault();
              console.log('chek button cancel pressed!');
              document.getElementById('addAddressFormMobile').reset();
              document.getElementById('add-address-modal-mobile').style.display = 'none';
            })()"
            style="display: flex; align-items: center; justify-content: center; width: 100%; padding: 6px 0px; background: #fff; box-shadow: inset 0 0 0 2px #000; font-size: 13px; cursor: pointer;">CANCEL</button>
        </div>

        {% if form.errors %}
          errors present
        {% endif %}
      {% endform %}
    {% endif %}
  </div>
</div>

{% for address in customer.addresses %}
  <div 
    id="edit-address-modal-mobile-{{ address.id }}"
    style="padding: 60px 20px; background-color: rgba(22,22,22,0.4); width: 100%; height: calc(100% + 115px); position: absolute; inset-inline-start: 0px; inset-block-start: -115px; display: none; z-index: 11;"
    onclick="(function() {document.getElementById('edit-address-modal-mobile-{{ address.id }}').style.display = 'none'; document.getElementById('addAddressFormMobile').reset();})()"
  > <!-- Edit Address Modal -->
    <div onclick="event.stopPropagation()" style="gap: 2rem; display: flex; flex-direction: column; align-items: center; justify-content: center; width: 100%; height: 100%; background-color: white; padding: 37px 72px;">
      <span class="alata" style="font-size: 22px;">EDIT ADDRESS</span>
      {% form 'customer_address', address, style: "display: flex; flex-direction: column; justify-content: center; gap: 18px;" %} 
        <input type="hidden" name="address[first_name]" value="{{ customer.first_name }}">
        <input type="hidden" name="address[last_name]" value="{{ customer.last_name }}">
        <input type="text" name="address[address1]" value="{{ address.address1 }}" placeholder="Street Address" style="width: 100%; padding: 14px 16px; font-weight: bold; border: 1px solid #000; font-size: 14px;">
        <input type="text" name="address[city]" value="{{ address.city }}" placeholder="City" style="width: 100%; padding: 14px 16px; font-weight: bold; border: 1px solid #000; font-size: 14px;">
        <input type="text" name="address[province]" value="{{ address.province }}" placeholder="State" style="width: 100%; padding: 14px 16px; font-weight: bold; border: 1px solid #000; font-size: 14px;">
        <input type="text" name="address[zip]" value="{{ address.zip }}" placeholder="ZIP Code" style="width: 100%; padding: 14px 16px; font-weight: bold; border: 1px solid #000; font-size: 14px;">
        <input type="text" name="address[country]" value="{{ address.country }}" placeholder="Country" value="United States" style="width: 100%; background-color: #EBEBE4; padding: 14px 16px; font-weight: bold; border: 1px solid #000; font-size: 14px;" disabled>
  
        <label style="display: flex; align-items: center; margin-bottom: 20px; font-size: 13px;">
          <input type="checkbox" name="address[default]" value="1" style="margin-right: 10px; width: 16px; height: 16px; accent-color: #000000;"> 
          Set As Default Address
        </label>
        
        <div style="display: flex; flex-direction: column; gap: 10px;">
          <button type="submit" style="display: flex; align-items: center; justify-content: center; width: 100%; padding: 6px 0px; background: #000; color: #fff; border: none; font-size: 13px; cursor: pointer;">SAVE</button>
          <button
            type="button"
            onclick="(function() {
              event.preventDefault();
              console.log('chek button cancel pressed!');
              document.getElementById('edit-address-modal-mobile-{{ address.id }}').style.display = 'none';
            })()"
            style="display: flex; align-items: center; justify-content: center; width: 100%; padding: 6px 0px; background: #fff; box-shadow: inset 0 0 0 2px #000; font-size: 13px; cursor: pointer;">CANCEL</button>
        </div>
      {% endform %}
    </div>
  </div>                
{% endfor %}

<div
  id="edit-address-modal-mobile"
  style="padding: 60px 20px; background-color: rgba(22,22,22,0.4); width: 100%; height: calc(100% + 115px); position: absolute; inset-inline-start: 0; inset-block-start: -115px; display: none; z-index: 11;"
  onclick="document.getElementById('edit-address-modal-mobile').style.display='none'"
>
  <div onclick="event.stopPropagation()" style="gap: 2rem; display: flex; flex-direction: column; align-items: center; justify-content: center; width: 100%; height: 100%; background-color: white; padding: 37px 72px;">
    <span class="alata" style="font-size: 22px;">DELIVERY ADDRESS</span>
    {% if customer %}
      {% form 'customer_address', customer.new_address, id: "addAddressFormMobile", style: "display: flex; flex-direction: column; justify-content: center; gap: 18px;" %} 
        <input type="hidden" name="address[first_name]" value="{{ customer.first_name }}">
        <input type="hidden" name="address[last_name]" value="{{ customer.last_name }}">
        <input type="text" name="address[address1]" placeholder="Street Address" style="width: 100%; padding: 14px 16px; font-weight: bold; border: 1px solid #000; font-size: 14px;">
        <input type="text" name="address[city]" placeholder="City" style="width: 100%; padding: 14px 16px; font-weight: bold; border: 1px solid #000; font-size: 14px;">
        <input type="text" name="address[province]" placeholder="State" style="width: 100%; padding: 14px 16px; font-weight: bold; border: 1px solid #000; font-size: 14px;">
        <input type="text" name="address[zip]" placeholder="ZIP Code" style="width: 100%; padding: 14px 16px; font-weight: bold; border: 1px solid #000; font-size: 14px;">
        <input type="text" name="address[country]" placeholder="Country" value="United States" style="width: 100%; background-color: #EBEBE4; padding: 14px 16px; font-weight: bold; border: 1px solid #000; font-size: 14px;" disabled>
  
        <label style="display: flex; align-items: center; margin-bottom: 20px; font-size: 13px;">
          <input type="checkbox" name="address[default]" value="1" style="margin-right: 10px; width: 16px; height: 16px; accent-color: #000000;"> 
          Set As Default Address
        </label>
        
        <div style="display: flex; flex-direction: column; gap: 10px;">
          <button type="submit" style="display: flex; align-items: center; justify-content: center; width: 100%; padding: 6px 0px; background: #000; color: #fff; border: none; font-size: 13px; cursor: pointer;">SAVE</button>
          <button
            type="button"
            onclick="(function() {
              event.preventDefault();
              console.log('chek button cancel pressed!');
              document.getElementById('addAddressFormMobile').reset();
              document.getElementById('add-address-modal-mobile').style.display = 'none';
            })()"
            style="display: flex; align-items: center; justify-content: center; width: 100%; padding: 6px 0px; background: #fff; box-shadow: inset 0 0 0 2px #000; font-size: 13px; cursor: pointer;">CANCEL</button>
        </div>

        {% if form.errors %}
          errors present
        {% endif %}
      {% endform %}
    {% endif %}
  </div>
</div>

<div
  id="account-page-selection-modal"
  onclick="(function() {document.getElementById('account-page-selection-modal').style.display = 'none';})()"
  style="display: none; position: absolute; top: 0; left: 0; background-color: rgba(0,0,0,0.5); flex-direction: column; width: 100%; height: 100%;"
> <!-- Account Page Selection Modal -->
  <div onclick="event.stopPropagation()" style="width: 100%; background-color: white; padding: 23px 12px; gap: 6px; position: sticky; inset-block-start: 145px;">
    <button id='account-details' class='account-page-btn'>PROFILE</button>
    <button id='account-addresses' class='account-page-btn'>ADDRESSES</button>
    <button id='account-deletion' class='account-page-btn'>ACCOUNT DELETION</button>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    document.querySelectorAll('.account-page-btn').forEach(button => {
      button.addEventListener('click', function(e) {
        e.preventDefault();
        e.stopPropagation();
        const snippets = ['account-details-page', 'account-addresses-page', 'account-deletion-page'];
        const selectedSnippet = `${button.getAttribute('id')}-page`;
        for (let i = 0; i < snippets.length; i++) {
          document.getElementById(snippets[i]).style.display = (selectedSnippet == snippets[i]) ? 'flex' : 'none';
          window.location.hash = `#${button.getAttribute('id')}`;
        }
        document.getElementById('account-page-selection-modal').style.display = 'none';
        document.getElementById('account-page-selection-label').innerHTML = `${button.innerHTML}`;
        window.scrollTo({ top: 0, behavior: "smooth" });
      })
    })

    // document.getElementById('addAddressFormMobile').addEventListener('submit', async (e) => {
    //   e.preventDefault();
    
    //   const formData = new FormData(e.target);
    
    //   fetch("/account/addresses", {
    //     method: "POST",
    //     body: formData,
    //   })
    //   .then(response => {
    //     if (response.ok) {
    //       window.location.hash = "#account";
    //       console.log('chek', response, formData);
    //       // setTimeout(() => location.reload(), 100); 
    //     } else {
    //       alert("Failed to add address.");
    //     }
    //   })
    //   .catch(() => alert("Error submitting address."));
    // });

    function showDeleteModal() {
      return new Promise((resolve) => {
        const modal = document.getElementById('confirmModal');
        const btnYes = document.getElementById('confirmYes');
        const btnNo = document.getElementById('confirmNo');
    
        // Show the modal
        modal.style.display = 'block';
    
        // Click handlers
        btnYes.onclick = () => {
          modal.style.display = 'none';
          resolve(true);  // User confirmed
        };
        btnNo.onclick = () => {
          modal.style.display = 'none';
          resolve(false); // User cancelled
        };
      });
    }

    document.querySelectorAll('.edit-address-btn-mobile').forEach(button => {
      button.addEventListener('click', () => {
        console.log('chek pressed an edit address button!')
      });
    });
  });
</script>